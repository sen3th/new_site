<!doctype html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="/content/favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/content/favicon/favicon.svg" />
  <link rel="shortcut icon" href="/content/favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/content/favicon/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="@seneth" />
  <link rel="manifest" href="/content/favicon/site.webmanifest" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>@seneth</title>
  <meta name="description" content="@seneth portfolio" />
  <style>
    :root{
      --bg: #0f1113;            /* page background */
      --card: #0b0d0f;          /* card / panel bg */
      --text: #e6e8ea;          /* main text */
      --muted: #9aa0a6;         /* secondary text */
      --accent: #8bd3c7;        /* accent color */
      --glass: rgba(255,255,255,0.03); /* subtle glass effect */
      --radius: 12px;           /* corner radius */
      --max-width: 900px;       /* content width */
      --gap: 20px;              /* base spacing */
      --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      --transition: 220ms cubic-bezier(.2,.9,.3,1);
      --focus-ring: 3px solid rgba(139,211,199,0.12);
    }

    /* Light theme override (auto/dark handled in JS) */
    :root.light {
      --bg: #fafafa;
      --card: #ffffff;
      --text: #0b0c0d;
      --muted: #50555a;
      --glass: rgba(11,12,13,0.02);
      --accent: #006d5b;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font-sans);
      background:linear-gradient(180deg,var(--bg),color-mix(in srgb,var(--bg) 80%, black 10%));
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:48px 20px;
    }

    /* Container */
    .wrap{
      width:100%;
      max-width:var(--max-width);
      margin-inline:auto;
    }

    /* Card */
    .card{
      background:linear-gradient(180deg,var(--card), color-mix(in srgb,var(--card) 92%, black 4%));
      border-radius:var(--radius);
      box-shadow:0 6px 28px rgba(2,6,10,0.45);
      padding:calc(var(--gap) * 1.2);
      backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,0.03);
    }

    /* Top row: name + controls */
    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: calc(var(--gap) * 0.6);
    }

    .name{
      font-weight:700;
      font-size:clamp(20px, 3.6vw, 28px);
      letter-spacing: -0.02em;
    }

    .tagline{
      color:var(--muted);
      font-weight:500;
      font-size:14px;
    }

    .controls{
      display:flex;
      gap:8px;
      align-items:center;
    }

    .btn{
      background:transparent;
      color:var(--muted);
      border:1px solid transparent;
      padding:8px 10px;
      border-radius:8px;
      font-size:13px;
      cursor:pointer;
      transition:all var(--transition);
    }

    .btn:hover{ color:var(--text); transform:translateY(-1px) }
    .theme-toggle{ border-radius:9px; background:var(--glass); padding:6px 8px; }

    /* Custom theme selector styles */
    .theme-selector{ position:relative; display:inline-block }
    .theme-button{ display:inline-flex; align-items:center; gap:8px; min-width:120px; justify-content:space-between }
    .theme-label-prefix{ color:var(--muted); font-weight:600; margin-right:6px }
    .theme-label{ font-weight:700 }
    .theme-menu{
      position:absolute;
      right:0;
      top:calc(100% + 8px);
      background:var(--card);
      border-radius:10px;
      padding:6px;
      box-shadow:0 8px 28px rgba(2,6,10,0.45);
      border:1px solid rgba(255,255,255,0.03);
      display:none;
      z-index:40;
      min-width:140px;
    }
    .theme-menu.open{ display:block }
    .theme-item{
      display:block;
      width:100%;
      text-align:left;
      padding:8px 10px;
      background:transparent;
      border:0;
      color:var(--text);
      font-size:14px;
      border-radius:8px;
      cursor:pointer;
    }
    .theme-item:hover, .theme-item[aria-selected="true"]{ background: color-mix(in srgb, var(--accent) 8%, transparent); color:var(--text) }
    .theme-item:focus{ outline:var(--focus-ring); }

    /* Don't show the focus ring on mouse click for this control; show on keyboard focus */
    .theme-button:focus{ outline: none; }
    .theme-button:focus-visible{ outline:var(--focus-ring); outline-offset:3px; }

    /* Layout */
    .intro-grid{
      display:grid;
      grid-template-columns: 1fr 340px;
      gap:18px;
      align-items:start;
    }

    @media (max-width:880px){
      .intro-grid{ grid-template-columns:1fr; }
      body{
        /* move content to top on small screens so the top isn't clipped on mobile */
        align-items:flex-start;
        padding:28px 14px;
        /* include iOS safe-area inset so content isn't hidden under the notch */
        padding-top: calc(28px + env(safe-area-inset-top));
      }
    }


    /* Intro / About */
    .about{
      font-size:15px;
      color:var(--muted);
      padding:8px 4px;
    }

    /* Projects */
    .projects{
      display:grid;
      gap:12px;
      margin-top:12px;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(2, 1fr);
      gap:12px;
    }

    /* Visual aid: show the projects area and a message when empty (debug/fallback) */
    .grid{ min-height:80px; border-radius:8px }
    .grid:empty::before{
      content: "No projects available (JS may have failed to render).";
      color:var(--muted);
      display:block;
      padding:12px;
      font-size:13px;
    }

    @media (max-width:520px){ .grid{ grid-template-columns:1fr } }

    @media (max-width:520px){
      .ptitle, .psub{ white-space:normal; overflow:visible; text-overflow:clip }
      .project{ min-height:auto; padding:10px }
      .thumb{ width:48px; height:36px }
    }

    .project{
      background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
      border-radius:10px;
      padding:12px 14px;
      border:1px solid rgba(255,255,255,0.02);
      display:flex;
      gap:14px;
      align-items:center;
      cursor:pointer;
      transition:transform var(--transition), box-shadow var(--transition), border-color var(--transition);
      min-height:72px; /* consistent card height */
    }

    .project:hover{
      transform:translateY(-6px);
      box-shadow:0 10px 30px rgba(2,6,10,0.45);
      border-color: color-mix(in srgb, var(--accent) 12%, transparent);
    }

    .thumb{
      width:56px;
      height:56px;
      background:linear-gradient(135deg,var(--glass), rgba(255,255,255,0.02));
      border-radius:8px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      color:var(--muted);
      flex-shrink:0;
      font-size:12px;
    }

    .pmeta{ display:flex; flex-direction:column; gap:4px; justify-content:center; flex:1 }
    .ptitle{ font-weight:600; font-size:15px; color:var(--text); margin:0; line-height:1.15; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
    .psub{ font-size:13px; color:var(--muted); margin:0; line-height:1.15; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }

    /* Right column: links */
    .side{
      display:flex;
      flex-direction:column;
      gap:16px;
      padding:8px;
    }

    .links{
      display:flex;
      flex-direction:column;
      gap:8px;
      font-size:14px;
    }

    .link{
      color:var(--accent);
      text-decoration:none;
      font-weight:600;
    }

    /* Footer small */
    .meta{
      margin-top:14px;
      color:var(--muted);
      font-size:12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }

    /* Modal */
    .modal{
      position:fixed;
      inset:0;
      display:grid;
      place-items:center;
      background:linear-gradient(180deg, rgba(0,0,0,0.4), rgba(0,0,0,0.6));
      padding:36px;
      z-index:60;
      visibility:hidden;
      opacity:0;
      transition:opacity var(--transition);
    }

    .modal.open{ visibility:visible; opacity:1 }

    .modal-card{
      width:100%;
      max-width:680px;
      background:var(--card);
      border-radius:12px;
      padding:20px;
      box-shadow:0 14px 40px rgba(2,6,10,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }

    .modal-close{
      background:transparent;
      border:0;
      color:var(--muted);
      font-size:14px;
      cursor:pointer;
      padding:8px;
    }

    /* tiny accessibility helpers */
    .sr-only{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
    :focus{ outline-offset:3px; outline:var(--focus-ring) }
    a:focus, button:focus{ outline:var(--focus-ring) }

    /* Accent underline for links */
    .underline{
      background-image:linear-gradient(90deg,var(--accent),var(--accent));
      background-repeat:no-repeat;
      background-size:0 2px;
      background-position:0 100%;
      transition:background-size var(--transition);
    }
    .underline:hover{ background-size:100% 2px; color:var(--text) }

    /* name animation */
    .name{
      background:linear-gradient(90deg, var(--accent), var(--text), var(--accent));
      background-size:200% auto;
      background-clip:text;
      -webkit-background-clip:text;
      color:transparent;
      animation: shine 3s linear infinite;
    }
  </style>
</head>
<body>
  <main class="wrap" id="site">
    <div class="card" role="region" aria-labelledby="heading">
      <div class="top">
        <div>
          <div class="name" id="heading">Seneth</div>
          <div class="tagline" id="tagline">Building quiet, thoughtful things?</div>
        </div>

        <div class="controls" aria-hidden="false">
          <!-- Custom accessible theme selector (replaces native select) -->
          <div id="themeSelector" class="theme-selector" aria-haspopup="listbox" aria-expanded="false">
            <button type="button" class="btn theme-button" aria-label="Theme (follows system preference)" aria-controls="themeMenu">
              <span class="theme-label-prefix">Theme:</span>
              <span class="theme-label">Auto (system)</span>
            </button>
            <div id="themeMenu" class="theme-menu" role="listbox" tabindex="-1">
              <button class="theme-item" role="option" data-value="auto">Auto (system)</button>
              <button class="theme-item" role="option" data-value="dark">Dark</button>
              <button class="theme-item" role="option" data-value="light">Light</button>
            </div>
          </div>
          <button id="accentBtn" class="btn" title="Cycle accent color">Accent</button>
        </div>
      </div>

      <div class="intro-grid">
        <section>
          <p class="about" id="about">
            I‚Äôm a creator based in Ottawa. I build things, tinker with design, and read Nietzsche when I should sleep. I like quiet things that behave the way you expect.
          </p>

          <div class="projects" aria-labelledby="projects-heading">
            <h3 id="projects-heading" style="margin:0 0 8px 2px; font-size:13px; color:var(--muted); font-weight:600;">Projects</h3>
            <div class="grid" id="projectsGrid" tabindex="0">
            </div>
          </div>

        </section>

        <aside class="side" aria-label="Contact and links">
          <div class="links">
            <a class="link underline" href="mailto:hi@seneth.me">hi@seneth.me</a>
            <a class="link underline" href="https://github.com/sen3th" target="_blank" rel="noopener">GitHub</a>
          </div>

          <div style="color:var(--muted); font-size:13px; padding-top:6px;">
            üá®üá¶ ‚Ä¢ üíú ‚Ä¢ ‚öúÔ∏è ‚Ä¢ üßô
            <div style="margin-top:8px; color:var(--muted); font-size:13px;">
              
            </div>
          </div>
        </aside>

        <div class="meta">
          <div>¬© <span id="year"></span> Seneth</div>
          <div style="color:var(--muted); font-size:13px;">built with ‚ù§Ô∏è, care and small fonts.</div>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal for project details -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-card" role="document">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <div>
          <div id="modalTitle" style="font-weight:700; font-size:16px;"></div>
          <div id="modalTag" style="color:var(--muted); font-size:13px; margin-top:4px;"></div>
        </div>
        <div>
          <button id="modalClose" class="modal-close" aria-label="Close">Close</button>
        </div>
      </div>

      <div id="modalBody" style="margin-top:12px; color:var(--muted); font-size:14px;"></div>

      <div style="margin-top:18px; display:flex; gap:10px; justify-content:flex-end;">
        <a id="modalLink" class="btn" href="#" target="_blank" rel="noopener" style="color:var(--accent); font-weight:700; background:transparent; border:0;">Open</a>
      </div>
    </div>
  </div>

  <script>
    /* 
       Project List
    */
    const projects = [
      {
        title: "SubSpace",
        tag: "Subscription tracker",
        desc: "simple and clean subscription tracker.",
        url: "https://ss.seneth.me"
      },
      {
        title: "cwe√æan",
        tag: "quote site",
        desc: "simple aesthetic quote app made with html, css and javascript. (not done yet!)",
        url: "https://cwe√æan.seneth.me/"
      },
      {
        title: "T0RCL",
        tag: "HTML experiment",
        desc: "corny text-driven typography experiment.",
        url: "https://seneth.me/t0rcl"
      },
      {
        title: "tomato",
        tag: "study dashboard",
        desc: "a simple study dashboard with a pomodoro timer and more. (not done yet!)",
        url: "https://tomato.seneth.me"
      },
      {
        title: "Gloom",
        tag: "Mood Tracker",
        desc: "simple, minimalist mood tracker. (not done yet!)",
        url: "https://gloom.seneth.me"
      },
    ];

    /* === utility + initial render === */
    const grid = document.getElementById('projectsGrid');
    const yearEl = document.getElementById('year');
    yearEl.textContent = new Date().getFullYear();

    function makeThumbText(title){
      return title.split(/\s+/).slice(0,2).map(w => w[0]?.toUpperCase() || '').join('');
    }

    function openModal(p){
      const modal = document.getElementById('modal');
      document.getElementById('modalTitle').textContent = p.title;
      document.getElementById('modalTag').textContent = p.tag || '';
      document.getElementById('modalBody').textContent = p.desc || '';
      const link = document.getElementById('modalLink');
      if(p.url){ link.href = p.url; link.style.display = 'inline-block'; } else { link.style.display='none' }
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      modal.focus();
    }

    function closeModal(){
      const modal = document.getElementById('modal');
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    }

    function renderProjects(){
      grid.innerHTML = '';
      projects.forEach((p, i) => {
        const el = document.createElement('button');
        el.className = 'project';
        el.type = 'button';
        el.setAttribute('aria-label', `${p.title} ‚Äî ${p.tag}`);
        el.addEventListener('click', () => openModal(p));

        const thumb = document.createElement('div');
        thumb.className = 'thumb';
        thumb.textContent = makeThumbText(p.title);

        const meta = document.createElement('div');
        meta.className = 'pmeta';
        meta.innerHTML = `<div class="ptitle">${p.title}</div><div class="psub">${p.tag} ¬∑ <span style="color:var(--muted); font-weight:500">${p.url ? 'Live' : 'Prototype'}</span></div>`;

        el.appendChild(thumb);
        el.appendChild(meta);
        grid.appendChild(el);
      });
    }

    // Safety: capture runtime errors and show them in the projects grid
    window.addEventListener('error', (evt) => {
      try{
        const g = document.getElementById('projectsGrid');
        if(g) g.innerHTML = `<div style="color:var(--muted); padding:12px;">JS Error: ${String(evt.error || evt.message)}</div>`;
      }catch(e){}
    });

    try{
      renderProjects();
    }catch(err){
      const g = document.getElementById('projectsGrid');
      if(g) g.innerHTML = `<div style="color:var(--muted); padding:12px;">Render error: ${String(err)}</div>`;
      console.error(err);
    }

    /* === modal close handling === */
    document.getElementById('modalClose').addEventListener('click', closeModal);
    document.getElementById('modal').addEventListener('click', (e) => {
      if(e.target === e.currentTarget) closeModal();
    });
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape') closeModal();
    });

    /* === theme handling (custom selector) === */
    const root = document.documentElement;
    const themeSelector = document.getElementById('themeSelector');
    const themeButton = themeSelector.querySelector('.theme-button');
    const themeMenu = document.getElementById('themeMenu');
    const themeItems = Array.from(themeMenu.querySelectorAll('.theme-item'));
    const themeLabel = themeSelector.querySelector('.theme-label');

    function applyTheme(choice){
      root.classList.remove('light');
      if(choice === 'light') root.classList.add('light');
      if(choice === 'auto'){
        const prefers = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
        if(prefers) root.classList.add('light');
      }
      // persist
      try{ localStorage.setItem('site-theme', choice) }catch(e){}
      // update UI state
      themeItems.forEach(item => {
        const v = item.getAttribute('data-value');
        const selected = v === choice;
        item.setAttribute('aria-selected', selected ? 'true' : 'false');
      });
      const current = themeItems.find(i => i.getAttribute('data-value') === choice) || themeItems[0];
      themeLabel.textContent = current ? current.textContent : choice;
    }

    // toggle menu
    function openMenu(){
      themeMenu.classList.add('open');
      themeSelector.setAttribute('aria-expanded','true');
      // focus the menu so keyboard users can navigate immediately
      themeMenu.focus();
    }

    // closeMenu: if focusButton is true, return keyboard focus to the button; otherwise blur it (used after mouse interactions)
    function closeMenu(focusButton = false){
      themeMenu.classList.remove('open');
      themeSelector.setAttribute('aria-expanded','false');
      if(focusButton) themeButton.focus(); else themeButton.blur();
    }

    // init
    try{
      const stored = localStorage.getItem('site-theme') || 'dark';
      applyTheme(stored);
    }catch(e){ applyTheme('dark'); }

    // clicks on button toggle menu
    themeButton.addEventListener('click', (e) => {
      const open = themeMenu.classList.contains('open');
      if(open) closeMenu(); else openMenu();
    });

    // click an item
    themeItems.forEach(it => {
      it.addEventListener('click', (e) => {
        const v = it.getAttribute('data-value');
        applyTheme(v);
        // user clicked an item with mouse: close and remove button focus so outline doesn't persist
        closeMenu(false);
      });
      it.addEventListener('keydown', (e) => {
        const idx = themeItems.indexOf(it);
        if(e.key === 'ArrowDown') { e.preventDefault(); const next = themeItems[(idx+1)%themeItems.length]; next.focus(); }
        if(e.key === 'ArrowUp') { e.preventDefault(); const prev = themeItems[(idx-1+themeItems.length)%themeItems.length]; prev.focus(); }
        if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); it.click(); }
        if(e.key === 'Escape') { e.preventDefault(); closeMenu(true); }
      });
    });

    // keyboard while closed (open with ArrowDown/Enter/Space)
    themeButton.addEventListener('keydown', (e) => {
      if(e.key === 'ArrowDown' || e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openMenu(); const sel = themeMenu.querySelector('[aria-selected="true"]') || themeItems[0]; sel.focus(); }
      if(e.key === 'Escape') { closeMenu(true); }
    });

    // close when clicking outside
    document.addEventListener('click', (e) => {
      if(!themeSelector.contains(e.target)) closeMenu(false);
    });

    // react to system changes when on auto
    if(window.matchMedia){
      window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', () => {
        try{
          const stored = localStorage.getItem('site-theme') || 'auto';
          if(stored === 'auto') applyTheme('auto');
        }catch(e){}
      });
    }

    /* quick accent cycler */
    const accents = [
      '#8bd3c7', // mint (default)
      '#b38ff0', // lavender
      '#ffb86b', // warm amber
      '#6ab3ff', // cool blue
      '#9be57d'  // soft green
    ];
    let accentIndex = 0;
    const accentBtn = document.getElementById('accentBtn');
    accentBtn.addEventListener('click', () => {
      accentIndex = (accentIndex + 1) % accents.length;
      document.documentElement.style.setProperty('--accent', accents[accentIndex]);
    });

    // keyboard focus for grid 
    grid.addEventListener('keydown', (e) => {
      if(e.key === 'Enter'){
        const first = projects[0];
        if(first) openModal(first);
      }
    });


  </script>
</body>
</html>
